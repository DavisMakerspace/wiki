---
title: Space Entry Project
categories: projects
...

# Current Implementation

A box is attached to existing deadbolt that acuates it based on a button on the box or a single opto-isolated input bit.

Pressing the box's button will signal the deadbolt to close after 5 seconds.

The box's input bit is active-high and will open the deadbolt.  It is recommended to not apply the high signal for more than 1 second, otherwise the unit will continue to attempt to open the deadbolt.

There is a BeagleBone Black attached to the deadbolt open bit.  It is running Arch Linux ARM and communicates with the door via the /sys interface to the GPIO.  A simple high-level interface is provided via [sentry](https://github.com/DavisMakerspace/sentry).

## BeagleBone Black Info

Only some of the GPIO on the BBB seem available to the Linux kernel.  Through experimentation, the following seem usable:

      P8: 7-19,26
      P9: 11-16,21-24,26,27,30,41,42

The board documentation describes how the pins correspond to GPIO numbers.

# Brainstorming

Feel free to brainstorm ideas here.  Unless otherwise specified, lists here are meant to be exhaustive, and not necessarily design goals..!

## Authentication Methods

- RFID
    - Good for longer-term authorizations, e.g. members in good standing.
    - Unlike QR, no visibility of key required, just proximity.
- [QR Code Entry]()
    - Good for temporary authorizations.
    - Easy to cancel and regenerate in case of loss.
    - Less convenient since requires visibility.
    - Cheaper per key vs RFID.
    - Could be implemented with a Raspberry PI and a webcam [example project](http://www.raspberrypi.org/archives/2504)
- Facial recognition
- Thumbprint
- Electronic manual override
- Physical manual override
- Login and unlock via local WiFi
- Knock code
    - e.g. have to tap a certain rhythm to unlock.  Though any means of 'tapping' could be possible, e.g. flashing a light, making sounds, etc.
    - probably best for limited time or one-time authentications.
- [USB key entry]()
    - could be dual-use with dead-drop port
- Bluetooth pairing

## Authorization Types
 
- Persistent authorization for e.g. members in good standing
- One-day/one-time authorization for e.g. guests
- Dependent on certain conditions, e.g.
    - only in given time frame
    - someone already in the space

## Management

- Authorize an authentication via multiple interfaces
    - IRC
    - Website
    - Kiosk in space

## Monitoring

- Announce entry/exit on IRC
- Could run a user created script at door open, like on login

## Possible data to store:

- Code
- Date/Time created, used, expires
- Created by/for
- Status (active, expired, revoked)

## Relevant external projects

- An [Electric Strike](http://en.wikipedia.org/wiki/Electric_strike) would allow us to keep our current key/deadbolt option and mean less work on the door and frame.  Thanks to Tim for the suggestion!
- [Lockitron](https://lockitron.com/)
- [Instructables](http://www.instructables.com/id/Arduino-RFID-Door-Lock/) - RFID project
- Eugene Makerspace has some interesting [ideas](http://www.eugenemakerspace.com/wiki/Sites/ElectronicDoorLock)